<?xml version="1.0" encoding="UTF-8"?>
<KLISH
	xmlns="https://klish.libcode.org/klish3"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="https://src.libcode.org/pkun/klish/src/master/klish.xsd">

	<VIEW name="main">
		<PROMPT name="prompt">
			<ACTION sym="prompt">%u@%h&gt; </ACTION>
		</PROMPT>

		<HOTKEY key="^Z" cmd="exit"/>

		<!-- SHOW COMMANDS -->
		<COMMAND name="show" help="Show running system information">
			<COMMAND name="peers" help="Show BGP peers">
				<PARAM name="type" help="Filter by peer type" ptype="/STRING" optional="true">
					<ACTION sym="script">
					/home/well/bird-controlplane/bin/bird-mgmt show-peers "${KLISH_PARAM_type}"
					</ACTION>
				</PARAM>
				<ACTION sym="script">
				/home/well/bird-controlplane/bin/bird-mgmt show-peers
				</ACTION>
			</COMMAND>

			<COMMAND name="static-routes" help="Show static routes">
				<ACTION sym="script">
				/home/well/bird-controlplane/bin/bird-mgmt show-static-routes
				</ACTION>
			</COMMAND>
			
			<COMMAND name="te" help="Show Traffic Engineering">
				<ACTION sym="script">
				/home/well/bird-controlplane/bin/bird-mgmt show-te
				</ACTION>
			</COMMAND>
		</COMMAND>

		<!-- CONFIGURE -->
		<COMMAND name="configure" help="Enter configuration mode">
			<COMMAND name="terminal" help="Configure from the terminal">
				<ACTION sym="nav">push configure</ACTION>
			</COMMAND>
		</COMMAND>

		<COMMAND name="exit" help="Exit">
			<ACTION sym="nav">pop</ACTION>
		</COMMAND>

	</VIEW>

</KLISH>
